{
    "openapi": "3.0.1",
    "info": {
      "title": "Kele API",
      "description": "A sample API that uses a plant store as an example to demonstrate features in the OpenAPI specification",
      "license": {
        "name": "MIT"
      },
      "version": "1.0.0"
    },
    "servers": [
      {
        "url": "https://corebanking-staging.boldmfb.com/api"
      }
    ],
    "security": [
      {
        "bearerAuth": []
      }
    ],
    "paths": {
      "/wallets/balance": {
        "get": {
          "description": "Get wallet balance",
          "responses": {
            "200": {
              "description": "Get wallet balance information",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/BalanceResponse"
                  }
                }
              }
            },
            "400": {
              "description": "Bad Request, invalid parameters",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/Error"
                  }
                }
              }
            }
          }
        }
      },
      "/transaction": {
        "get": {
          "description": "Get Transaction List",
          "responses": {
            "200": {
              "description": "Get list of all transactions",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/TransactionResponse"
                  }
                }
              }
            },
            "400": {
              "description": "Bad Request, invalid parameters",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/Error"
                  }
                }
              }
            }
          }
        }
      },
      "/transaction/{tranactionReference}": {
        "get": {
          "description": "Get Transaction Status",
          "parameters": [
            {
              "name": "tranactionReference",
              "in": "path",
              "description": "tranaction reference",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Get transaction by tranactionReference",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/BalanceResponse"
                  }
                }
              }
            },
            "400": {
              "description": "Bad Request, invalid parameters",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/Error"
                  }
                }
              }
            }
          }
        }
      }
    },
    "components": {
      "schemas": {
        "BalanceResponse": {
            "type": "object",
            "properties": {
                "status": {
                    "type": "boolean",
                    "description": "Indicates if the request was successful"
                },
                "statusCode": {
                    "type": "integer",
                    "description": "HTTP status code of the response"
                },
                "data": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "id": {
                                "type": "integer",
                                "description": "Unique identifier for the wallet"
                            },
                            "wallet_id": {
                                "type": "string",
                                "description": "Wallet ID associated with the account"
                            },
                            "ledger_balance": {
                                "type": "string",
                                "description": "Current ledger balance of the wallet"
                            },
                            "previous_ledger_balance": {
                                "type": "string",
                                "description": "Previous ledger balance of the wallet"
                            },
                            "available_balance": {
                                "type": "string",
                                "description": "Available balance in the wallet"
                            },
                            "previous_available_balance": {
                                "type": "string",
                                "description": "Previous available balance in the wallet"
                            },
                            "on_hold": {
                                "type": "boolean",
                                "description": "Indicates if the wallet is on hold"
                            },
                            "held_by": {
                                "type": "string",
                                "description": "Indicates who is holding the wallet, if applicable"
                            },
                            "hold_reason": {
                                "type": "string",
                                "description": "Reason for holding the wallet, if applicable"
                            },
                            "has_lien": {
                                "type": "boolean",
                                "description": "Indicates if the wallet has a lien"
                            },
                            "user_id": {
                                "type": "integer",
                                "description": "ID of the user associated with the wallet"
                            },
                            "agent_id": {
                                "type": "integer",
                                "description": "ID of the agent associated with the wallet"
                            },
                            "created_at": {
                                "type": "string",
                                "format": "date-time",
                                "description": "Timestamp when the wallet was created"
                            },
                            "updated_at": {
                                "type": "string",
                                "format": "date-time",
                                "description": "Timestamp when the wallet was last updated"
                            },
                            "is_primary": {
                                "type": "boolean",
                                "description": "Indicates if this wallet is the primary one for the user"
                            },
                            "has_mandate": {
                                "type": "boolean",
                                "description": "Indicates if the wallet has a mandate"
                            },
                            "main_account": {
                                "type": "object",
                                "properties": {
                                    "id": {
                                        "type": "integer",
                                        "description": "Unique identifier for the main account"
                                    },
                                    "user_id": {
                                        "type": "string",
                                        "description": "ID of the user associated with the main account"
                                    },
                                    "wallet_id": {
                                        "type": "integer",
                                        "description": "Wallet ID linked to the main account"
                                    },
                                    "account_type": {
                                        "type": "string",
                                        "enum": ["individual", "corporate"],
                                        "description": "Type of the main account"
                                    },
                                    "account_number": {
                                        "type": "string",
                                        "description": "Bank account number of the main account"
                                    },
                                    "account_name": {
                                        "type": "string",
                                        "description": "Name associated with the main account"
                                    },
                                    "bank_name": {
                                        "type": "string",
                                        "description": "Name of the bank for the main account"
                                    },
                                    "bank_code": {
                                        "type": "string",
                                        "description": "Bank's unique identification code"
                                    },
                                    "account_reference": {
                                        "type": "string",
                                        "description": "Reference for the main account"
                                    },
                                    "channel_reference": {
                                        "type": "string",
                                        "description": "Reference from the channel used for account creation"
                                    },
                                    "channel": {
                                        "type": "string",
                                        "description": "Channel through which the main account was created"
                                    },
                                    "status": {
                                        "type": "string",
                                        "enum": ["active", "inactive"],
                                        "description": "Current status of the main account"
                                    },
                                    "created_at": {
                                        "type": "string",
                                        "format": "date-time",
                                        "description": "Timestamp when the main account was created"
                                    },
                                    "updated_at": {
                                        "type": "string",
                                        "format": "date-time",
                                        "description": "Timestamp when the main account was last updated"
                                    },
                                    "is_permanent": {
                                        "type": "boolean",
                                        "description": "Indicates if the main account is permanent"
                                    },
                                    "bvn": {
                                        "type": "string",
                                        "description": "Bank Verification Number of the user, if applicable"
                                    },
                                    "bvn_name": {
                                        "type": "string",
                                        "description": "Name associated with the BVN, if applicable"
                                    }
                                }
                            }
                        }
                    }
                },
                "message": {
                    "type": "string",
                    "description": "Response message describing the result of the request"
                }
            },
            "required": ["status", "statusCode", "data", "message"]
        },
        "TransactionResponse": {
            "type": "object",
            "properties": {
            "status": {
                "type": "boolean",
                "description": "Indicates if the request was successful"
            },
            "statusCode": {
                "type": "integer",
                "description": "HTTP status code of the response"
            },
            "data": {
                "type": "object",
                "properties": {
                "current_page": {
                    "type": "integer",
                    "description": "Current page of the transaction results"
                },
                "data": {
                    "type": "array",
                    "items": {
                    "type": "object",
                    "properties": {
                        "id": {
                        "type": "integer",
                        "description": "Unique identifier for the transaction"
                        },
                        "uniqueIdentity": {
                        "type": "string",
                        "description": "Unique identity of the transaction"
                        },
                        "userIdentity": {
                        "type": "string",
                        "description": "User identity involved in the transaction"
                        },
                        "transactionAccount": {
                        "type": "string",
                        "description": "Account number used in the transaction, if available"
                        },
                        "serviceType": {
                        "type": "string",
                        "description": "Type of service for the transaction"
                        },
                        "productType": {
                        "type": "string",
                        "description": "Product type involved in the transaction"
                        },
                        "amount": {
                        "type": "string",
                        "description": "Amount of the transaction"
                        },
                        "transactionStatus": {
                        "type": "string",
                        "description": "Status of the transaction"
                        },
                        "transactionReference": {
                        "type": "string",
                        "description": "Unique transaction reference"
                        },
                        "thirdPartyRef": {
                        "type": "string",
                        "description": "Reference from the third party system"
                        },
                        "beneficiaryName": {
                        "type": "string",
                        "description": "Name of the beneficiary"
                        },
                        "beneficiaryNumber": {
                        "type": "string",
                        "description": "Account number of the beneficiary"
                        },
                        "beneficiaryPlatform": {
                        "type": "string",
                        "description": "Platform of the beneficiary"
                        },
                        "transactionType": {
                        "type": "string",
                        "description": "Type of transaction (e.g., DEBIT or CREDIT)"
                        },
                        "comment": {
                        "type": "string",
                        "description": "Comment on the transaction"
                        },
                        "balanceBefore": {
                        "type": "string",
                        "description": "Account balance before the transaction"
                        },
                        "balanceAfter": {
                        "type": "string",
                        "description": "Account balance after the transaction"
                        },
                        "isDeleted": {
                        "type": "boolean",
                        "description": "Indicates if the transaction has been deleted"
                        },
                        "createdAt": {
                        "type": "string",
                        "format": "date-time",
                        "description": "Timestamp of when the transaction was created"
                        },
                        "updatedAt": {
                        "type": "string",
                        "format": "date-time",
                        "description": "Timestamp of when the transaction was last updated"
                        },
                        "logs": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                            "id": {
                                "type": "integer",
                                "description": "Unique identifier for the transaction log"
                            },
                            "status": {
                                "type": "string",
                                "description": "Status of the transaction log"
                            },
                            "description": {
                                "type": "string",
                                "description": "Description of the log"
                            },
                            "created_at": {
                                "type": "string",
                                "format": "date-time",
                                "description": "Timestamp of when the log was created"
                            }
                            }
                        }
                        }
                    }
                    }
                },
                "first_page_url": {
                    "type": "string",
                    "description": "URL for the first page of transactions"
                },
                "last_page_url": {
                    "type": "string",
                    "description": "URL for the last page of transactions"
                },
                "next_page_url": {
                    "type": "string",
                    "description": "URL for the next page of transactions, if available"
                },
                "total": {
                    "type": "integer",
                    "description": "Total number of transactions available"
                }
                }
            },
            "message": {
                "type": "string",
                "description": "Response message describing the result of the request"
            }
            },
            "required": ["status", "statusCode", "data", "message"]
        },          
        "Error": {
          "type": "object",
          "required": [
            "error",
            "message"
          ],
          "properties": {
            "error": {
              "type": "integer",
              "format": "int32"
            },
            "message": {
              "type": "string"
            }
          }
        }
      },
      "securitySchemes": {
        "bearerAuth": {
          "type": "http",
          "scheme": "bearer"
        }
      }
    }
  }