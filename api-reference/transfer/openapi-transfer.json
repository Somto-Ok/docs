{
  "openapi": "3.0.1",
  "info": {
    "title": "Kele API",
    "description": "A sample API that uses a plant store as an example to demonstrate features in the OpenAPI specification",
    "license": {
      "name": "MIT"
    },
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "https://corebanking-staging.boldmfb.com/api"
    }
  ],
  "security": [
    {
      "bearerAuth": []
    }
  ],
  "paths": {
    "/payout": {
      "post": {
        "description": "Individual Account",
        "requestBody": {
          "description": "Request an individual virtual account",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PayoutRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Individual corporate account successfully created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PayoutResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request, invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },   
    "/payout/bulk": {
      "post": {
        "description": "Individual Account",
        "requestBody": {
          "description": "Request an individual virtual account",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkPayoutRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Individual corporate account successfully created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkPayoutResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request, invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    }, 
    "/payout/resolve": {
      "post": {
        "description": "Individual Account",
        "requestBody": {
          "description": "Request an individual virtual account",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResolveRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Individual corporate account successfully created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResolveResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request, invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/intra-payout": {
      "post": {
        "description": "Individual Account",
        "requestBody": {
          "description": "Request an individual virtual account",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IntraPayoutRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Individual corporate account successfully created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request, invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/payout/intra-bulk": {
      "post": {
        "description": "Individual Account",
        "requestBody": {
          "description": "Request an individual virtual account",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IntraBulkPayoutRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Individual corporate account successfully created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request, invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/payout/intra-resolve": {
      "post": {
        "description": "Individual Account",
        "requestBody": {
          "description": "Request an individual virtual account",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IntraResolveRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Individual corporate account successfully created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request, invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/payout/recurring": {
      "post": {
        "description": "Create a recurring payout",
        "requestBody": {
          "description": "Request to create a recurring payout",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateRecurringRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Recurring payout successfully created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateRecurringResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request, invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "get": {
        "description": "Get details of recurring payouts",
        "responses": {
          "200": {
            "description": "Recurring payout details successfully retrieved",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetRecurringResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request, invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/payout/recurring/2": {
      "put": {
        "description": "Individual Account",
        "requestBody": {
          "description": "Request an individual virtual account",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Success"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Individual corporate account successfully created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request, invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/payout/banks": {
      "get": {
        "description": "Individual Account",
        "responses": {
          "200": {
            "description": "Individual corporate account successfully created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListBankResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request, invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "PayoutRequest": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "integer",
            "minimum": 1
          },
          "sender": {
            "type": "string"
          },
          "accountName": {
            "type": "string"
          },
          "accountNumber": {
            "type": "string",
            "pattern": "^[0-9]{10}$"
          },
          "bankCode": {
            "type": "string",
            "pattern": "^[0-9]{3}$"
          }
        },
        "required": ["amount", "sender", "accountName", "accountNumber", "bankCode"]
      },  
      "PayoutResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "boolean"
          },
          "statusCode": {
            "type": "integer",
            "format": "int32"
          },
          "data": {
            "type": "object",
            "properties": {
              "uniqueIdentity": {
                "type": "string",
                "format": "uuid"
              },
              "userIdentity": {
                "type": "string",
                "format": "uuid"
              },
              "productType": {
                "type": "string"
              },
              "amount": {
                "type": "string"
              },
              "netAmount": {
                "type": "string"
              },
              "fee": {
                "type": "string"
              },
              "commission": {
                "type": "string"
              },
              "transactionAccount": {
                "type": "string"
              },
              "transactionStatusCode": {
                "type": "string"
              },
              "transactionStatus": {
                "type": "string"
              },
              "transactionReference": {
                "type": "string"
              },
              "beneficiaryName": {
                "type": "string"
              },
              "beneficiaryNumber": {
                "type": "string",
                "pattern": "^[0-9]{10}$"
              },
              "beneficiaryPlatform": {
                "type": "string"
              },
              "senderName": {
                "type": "string"
              },
              "senderNumber": {
                "type": "string"
              },
              "senderPlatform": {
                "type": "string"
              },
              "transactionType": {
                "type": "string"
              },
              "comment": {
                "type": "string"
              },
              "sessionId": {
                "type": "string"
              }
            }
          },
          "message": {
            "type": "string"
          }
        }
      },
      "BulkPayoutRequest": {
        "type": "object",
        "properties": {
          "payouts": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "amount": {
                  "type": "integer"
                },
                "sender": {
                  "type": "string"
                },
                "accountName": {
                  "type": "string"
                },
                "accountNumber": {
                  "type": "string",
                  "pattern": "^[0-9]{10}$"
                },
                "bankCode": {
                  "type": "string",
                  "pattern": "^[0-9]{3}$"
                }
              },
              "required": [
                "amount",
                "sender",
                "accountName",
                "accountNumber",
                "bankCode"
              ]
            }
          }
        },
        "required": ["payouts"]
      },  
      "BulkPayoutResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "boolean"
          },
          "statusCode": {
            "type": "integer",
            "format": "int32"
          },
          "data": {
            "type": "object",
            "properties": {
              "user_id": {
                "type": "integer"
              },
              "total_count": {
                "type": "integer"
              },
              "type": {
                "type": "string"
              },
              "wallet_id": {
                "type": "integer"
              },
              "updated_at": {
                "type": "string",
                "format": "date-time"
              },
              "created_at": {
                "type": "string",
                "format": "date-time"
              },
              "id": {
                "type": "integer"
              },
              "total_processed": {
                "type": "integer"
              },
              "description": {
                "type": "string"
              }
            }
          },
          "message": {
            "type": "string"
          }
        }
      },
      "ResolveRequest": {
        "type": "object",
        "properties": {
          "bankCode": {
            "type": "string",
            "pattern": "^[0-9]{3}$",
            "example": "033"
          },
          "accountNumber": {
            "type": "string",
            "pattern": "^[0-9]{10}$",
            "example": "2130703419"
          }
        },
        "required": ["bankCode", "accountNumber"]
      },  
      "ResolveResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "boolean"
          },
          "statusCode": {
            "type": "integer",
            "format": "int32"
          },
          "data": {
            "type": "object",
            "properties": {
              "accountNumber": {
                "type": "string",
                "example": "1010101010"
              },
              "accountName": {
                "type": "string",
                "example": "Customer Name"
              },
              "bankName": {
                "type": "string",
                "example": "GTBank Plc"
              },
              "bankCode": {
                "type": "string",
                "example": "058"
              }
            }
          },
          "message": {
            "type": "string",
            "example": "Action was Successful"
          }
        }
      },    
      "IntraPayoutRequest": {
        "type": "object",
        "properties": {
          "walletNo": {
            "type": "string",
            "nullable": true
          },
          "payouts": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "accountOrPhoneNumber": {
                  "type": "string"
                },
                "amount": {
                  "type": "integer"
                }
              },
              "required": ["accountOrPhoneNumber", "amount"]
            }
          }
        },
        "required": ["payouts"]
      },
      "IntraBulkPayoutRequest": {
        "type": "object",
        "properties": {
          "accountOrPhoneNumber": {
            "type": "string"
          }
        },
        "required": ["accountOrPhoneNumber"]
      },   
      "IntraResolveRequest": {
        "type": "object",
        "properties": {
          "accountOrPhoneNumber": {
            "type": "string"
          },
          "amount": {
            "type": "integer"
          },
          "walletNo": {
            "type": "string",
            "nullable": true
          }
        },
        "required": ["accountOrPhoneNumber", "amount"]
      },
      "CreateRecurringRequest": {
        "type": "object",
        "properties": {
          "startDate": {
            "type": "string",
            "format": "date"
          },
          "circle": {
            "type": "string",
            "enum": ["daily", "weekly", "monthly"]
          },
          "destination": {
            "type": "string",
            "enum": ["bank_account", "wallet"]
          },
          "bankCode": {
            "type": "string"
          },
          "amount": {
            "type": "integer",
            "minimum": 0
          },
          "accountOrPhoneNumber": {
            "type": "string"
          },
          "isTotal": {
            "type": "boolean"
          }
        },
        "required": [
          "startDate", 
          "circle", 
          "destination", 
          "bankCode", 
          "amount", 
          "accountOrPhoneNumber", 
          "isTotal"
        ]
      },
      "CreateRecurringResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "boolean"
          },
          "statusCode": {
            "type": "integer",
            "format": "int32"
          },
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "integer"
              },
              "user_id": {
                "type": "integer"
              },
              "wallet_id": {
                "type": "integer"
              },
              "amount": {
                "type": "string",
                "format": "decimal"
              },
              "start_date": {
                "type": "string",
                "format": "date"
              },
              "end_date": {
                "type": "string",
                "format": "date"
              },
              "last_settlement_date": {
                "type": "string",
                "format": "date"
              },
              "next_settlement_date": {
                "type": "string",
                "format": "date"
              },
              "circle": {
                "type": "string"
              },
              "destination": {
                "type": "string"
              },
              "product_type": {
                "type": "string"
              },
              "bank_code": {
                "type": "string"
              },
              "bank_name": {
                "type": "string"
              },
              "account_name": {
                "type": "string"
              },
              "account_phone_number": {
                "type": "string"
              },
              "is_active": {
                "type": "boolean"
              },
              "is_total": {
                "type": "boolean"
              },
              "created_at": {
                "type": "string",
                "format": "date-time"
              },
              "updated_at": {
                "type": "string",
                "format": "date-time"
              }
            }
          },
          "message": {
            "type": "string"
          }
        }
      },            
      "GetRecurringResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "boolean"
          },
          "statusCode": {
            "type": "integer",
            "format": "int32"
          },
          "data": {
            "type": "object",
            "properties": {
              "current_page": {
                "type": "integer",
                "format": "int32"
              },
              "data": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "format": "int32"
                    },
                    "user_id": {
                      "type": "integer",
                      "format": "int32"
                    },
                    "wallet_id": {
                      "type": "integer",
                      "format": "int32"
                    },
                    "amount": {
                      "type": "string"
                    },
                    "start_date": {
                      "type": "string",
                      "format": "date"
                    },
                    "end_date": {
                      "type": "string",
                      "format": "date"
                    },
                    "last_settlement_date": {
                      "type": "string",
                      "format": "date"
                    },
                    "next_settlement_date": {
                      "type": "string",
                      "format": "date"
                    },
                    "circle": {
                      "type": "string"
                    },
                    "destination": {
                      "type": "string"
                    },
                    "product_type": {
                      "type": "string"
                    },
                    "bank_code": {
                      "type": "string"
                    },
                    "bank_name": {
                      "type": "string"
                    },
                    "account_name": {
                      "type": "string"
                    },
                    "account_phone_number": {
                      "type": "string"
                    },
                    "is_active": {
                      "type": "boolean"
                    },
                    "is_total": {
                      "type": "boolean"
                    },
                    "created_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time"
                    }
                  }
                }
              },
              "first_page_url": {
                "type": "string",
                "format": "uri"
              },
              "from": {
                "type": "integer",
                "format": "int32"
              },
              "last_page": {
                "type": "integer",
                "format": "int32"
              },
              "last_page_url": {
                "type": "string",
                "format": "uri"
              },
              "links": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "url": {
                      "type": "string",
                      "format": "uri"
                    },
                    "label": {
                      "type": "string"
                    },
                    "active": {
                      "type": "boolean"
                    }
                  }
                }
              },
              "next_page_url": {
                "type": "string",
                "format": "uri"
              },
              "path": {
                "type": "string",
                "format": "uri"
              },
              "per_page": {
                "type": "integer",
                "format": "int32"
              },
              "prev_page_url": {
                "type": "string",
                "format": "uri"
              },
              "to": {
                "type": "integer",
                "format": "int32"
              },
              "total": {
                "type": "integer",
                "format": "int32"
              }
            }
          },
          "message": {
            "type": "string"
          }
        }
      },
      "ListBankResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "boolean"
          },
          "statusCode": {
            "type": "integer",
            "format": "int32"
          },
          "data": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "code": {
                  "type": "string"
                },
                "name": {
                  "type": "string"
                }
              },
              "required": ["code", "name"]
            }
          },
          "message": {
            "type": "string"
          }
        },
        "required": ["status", "statusCode", "data", "message"]
      },            
      "Success" : {
        "type": "object",
        "properties": {
          "status": {
            "type": "boolean"
          },
          "statusCode": {
            "type": "integer"
          },
          "data": {
            "type": "object",
            "additionalProperties": true
          },
          "message": {
            "type": "string",
            "nullable": true
          }
        },
        "required": ["status", "statusCode"]
      },               
      "Error": {
        "required": [
          "error",
          "message"
        ],
        "type": "object",
        "properties": {
          "error": {
            "type": "integer",
            "format": "int32"
          },
          "message": {
            "type": "string"
          }
        }
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  }
}